## -*- mode: python; coding: utf-8 -*-

DESCRIPTION="DMF End-to-End Network Performance"
AGGREGATOR='timeseries'
STEP_SIZE=0.1
SOCKET_STATS=True
IP_VERSION=4
TOTAL_LENGTH=LENGTH

DEFAULTS={'PLOT': 'all_plots'}

DATA_SETS = o([

        ('UDP',
         {'length': TOTAL_LENGTH, 'host': HOST, 'interval': STEP_SIZE,
          'irtt_send_interval': 0.0016, 'irtt_packet_length': 1000,
          'units': 'Kbps', 'runner': 'udp'}),

        ('UDP::rtt',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP::loss',
         {'units': 'count', 'runner': 'null'}),

        ('UDP::loss_up',
         {'units': 'count', 'runner': 'null'}),

        ('UDP::loss_down',
         {'units': 'count', 'runner': 'null'}),

        ('UDP::ipdv',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP::ipdv_up',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP::ipdv_down',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP slow',
         {'length': TOTAL_LENGTH, 'host': HOST, 'interval': STEP_SIZE,
          'irtt_send_interval': 0.1, 'irtt_packet_length': 100,
          'units': 'Kbps', 'runner': 'udp'}),

        ('UDP slow::rtt',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP slow::loss',
         {'units': 'count', 'runner': 'null'}),

        ('UDP slow::loss_up',
         {'units': 'count', 'runner': 'null'}),

        ('UDP slow::loss_down',
         {'units': 'count', 'runner': 'null'}),

        ('UDP slow::ipdv',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP slow::ipdv_up',
         {'units': 'ms', 'runner': 'null'}),

        ('UDP slow::ipdv_down',
         {'units': 'ms', 'runner': 'null'}),

        ])

PLOTS = o([
    ('udp_rtt',
     {'description': 'UDP RTT',
             'type': 'timeseries',
      'axis_labels': ['ms'],
           'series': [{'data': 'UDP::rtt',
                      'label': 'UDP RTT'}]}),

    ('udp_ipdv',
     {'description': 'UDP IPDV',
             'type': 'timeseries',
      'axis_labels': ['ms'],
           'series': [
                      {'data': 'UDP::ipdv_down',
                      'label': 'UDP IPDV (down)'},
                      {'data': 'UDP::ipdv_up',
                      'label': 'UDP IPDV (up)'},
                      {'data': 'UDP::ipdv',
                      'label': 'UDP IPDV (round trip)'},
                     ]}),

    ('udp_loss',
     {'description': 'UDP packet loss',
             'type': 'timeseries',
      'axis_labels': ['packets'],
           'series': [
                      {'data': 'UDP::loss_up',
                      'label': 'UDP Packet Loss (up)'},
                      {'data': 'UDP::loss_down',
                      'label': 'UDP Packet Loss (down)'},
                      {'data': 'UDP::loss',
                      'label': 'UDP Packet Loss (round trip)'},
                     ]}),

    ('all_plots',
     {'description': 'TCP is cubic up, bbrv1 down; UDP is 1000B/pkt, 625pps, 5Mbps',
             'type': 'meta',
         'subplots': ('udp_rtt', 'udp_ipdv', 'udp_loss')})

    ])

#include("common.inc")

